<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Launch a Study – Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data.html" rel="next">
<link href="./stimuli.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2180d9982d7c035d3c98108530bcf335.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://www.dice-app.org/" class="navbar-brand navbar-brand-logo">
    <img src="./dice-logo-white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="https://www.dice-app.org/">
    <span class="navbar-title">Documentation</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./dice-app.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Launch a Study</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stimuli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Generate Stimuli</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dice-app.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Launch a Study</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Case Studies</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Deploy DICE yourself</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Extensions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#meta-information" id="toc-meta-information" class="nav-link active" data-scroll-target="#meta-information"><span class="header-section-number">2.1</span> Meta Information</a></li>
  <li><a href="#participant-recruitment" id="toc-participant-recruitment" class="nav-link" data-scroll-target="#participant-recruitment"><span class="header-section-number">2.2</span> Participant Recruitment</a></li>
  <li><a href="#stimulus-design" id="toc-stimulus-design" class="nav-link" data-scroll-target="#stimulus-design"><span class="header-section-number">2.3</span> Stimulus Design</a>
  <ul class="collapse">
  <li><a href="#social-media-platform" id="toc-social-media-platform" class="nav-link" data-scroll-target="#social-media-platform"><span class="header-section-number">2.3.1</span> Social Media Platform</a></li>
  <li><a href="#url" id="toc-url" class="nav-link" data-scroll-target="#url"><span class="header-section-number">2.3.2</span> URL</a></li>
  <li><a href="#csv-delimiter" id="toc-csv-delimiter" class="nav-link" data-scroll-target="#csv-delimiter"><span class="header-section-number">2.3.3</span> CSV Delimiter</a></li>
  <li><a href="#hashtag" id="toc-hashtag" class="nav-link" data-scroll-target="#hashtag"><span class="header-section-number">2.3.4</span> Hashtag</a></li>
  </ul></li>
  <li><a href="#participant-briefing" id="toc-participant-briefing" class="nav-link" data-scroll-target="#participant-briefing"><span class="header-section-number">2.4</span> Participant Briefing</a>
  <ul class="collapse">
  <li><a href="#consent-form" id="toc-consent-form" class="nav-link" data-scroll-target="#consent-form"><span class="header-section-number">2.4.1</span> Consent Form</a></li>
  <li><a href="#study-instructions" id="toc-study-instructions" class="nav-link" data-scroll-target="#study-instructions"><span class="header-section-number">2.4.2</span> Study Instructions</a></li>
  </ul></li>
  <li><a href="#measurement" id="toc-measurement" class="nav-link" data-scroll-target="#measurement"><span class="header-section-number">2.5</span> Measurement</a>
  <ul class="collapse">
  <li><a href="#survey-integration" id="toc-survey-integration" class="nav-link" data-scroll-target="#survey-integration"><span class="header-section-number">2.5.1</span> Survey Integration</a></li>
  <li><a href="#dwell-time-tracking" id="toc-dwell-time-tracking" class="nav-link" data-scroll-target="#dwell-time-tracking"><span class="header-section-number">2.5.2</span> Dwell Time Tracking</a></li>
  </ul></li>
  <li><a href="#create-session" id="toc-create-session" class="nav-link" data-scroll-target="#create-session"><span class="header-section-number">2.6</span> Create Session</a>
  <ul class="collapse">
  <li><a href="#saving-your-session-information" id="toc-saving-your-session-information" class="nav-link" data-scroll-target="#saving-your-session-information"><span class="header-section-number">2.6.1</span> Saving Your Session Information</a></li>
  <li><a href="#prolific-integration" id="toc-prolific-integration" class="nav-link" data-scroll-target="#prolific-integration"><span class="header-section-number">2.6.2</span> Prolific Integration</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-launch" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Launch a Study</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>We developed the <a href="https://www.dice-app.org/">DICE web-app</a> for researchers to launch a study without any coding and without <a href="./deployment.html#sec-deployment">hosting the oTree app yourself</a>. This section guides you through the process step by step.</p>
<section id="meta-information" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="meta-information"><span class="header-section-number">2.1</span> Meta Information</h2>
<p>We ask you to provide some information about yourself and the study you intend to run. The DICE app uses these information to provide participants with contact information if any questions occur. In addition, the DICE app displays an external study name. The internal name only serves internal documentation purposes for yourself.</p>
</section>
<section id="participant-recruitment" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="participant-recruitment"><span class="header-section-number">2.2</span> Participant Recruitment</h2>
<p>As of today, we optimized the DICE app for Prolific. However, the DICE app can also create generic URLs that can be used for any other recruitment platform or strategy. In any case, you need to specify the number of rows in a database that will be created specifically for your study. Each row can be assumed by one participant. If there is attrition, that is, if a participant enters the study but leaves before finishing it, his or her row in the database will be taken and cannot be overwritten by other participants. Hence, you should consider attrition while specifying the number of rows in the database as participants who try to enter the experiment after all slots (rows in the database) are used, will receive an error message.</p>
<p>Whereas it is costly for you to underestimate attrition, it is also costly for you (and us) to overestimate attrition and enter an unreasonably large number of desired rows because this can have implications on the performance. For this reason, we enforce a maximum of 400 rows here. Feel free to contact us, if you require larger sample sizes and we’ll schedule a session together. Or consider <a href="./deployment.html#sec-deploy">deploying</a> a Digital In-Context Experiment yourself.</p>
</section>
<section id="stimulus-design" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="stimulus-design"><span class="header-section-number">2.3</span> Stimulus Design</h2>
<section id="social-media-platform" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="social-media-platform"><span class="header-section-number">2.3.1</span> Social Media Platform</h3>
</section>
<section id="url" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="url"><span class="header-section-number">2.3.2</span> URL</h3>
<p>In this section, you will provide the csv file you created to configure your stimuli as described in <a href="stimuli.html" class="quarto-xref"><span>Chapter 1</span></a>. The DICE app “ingests” these configurations if you provide raw URL to the file. This requires you to upload the csv file in a publicly available storage (we recommend <a href="https://github.com/">GitHub</a> as it is free and easy-to-use).</p>
<p>The DICE app needs access to your CSV file through what’s called a “raw” URL. A raw URL points directly to the file’s content, allowing DICE to read your configuration. Think of it as a direct link to the raw data, rather than a webpage showing the file.</p>
<section id="what-is-a-raw-url" class="level4" data-number="2.3.2.1">
<h4 data-number="2.3.2.1" class="anchored" data-anchor-id="what-is-a-raw-url"><span class="header-section-number">2.3.2.1</span> What is a Raw URL?</h4>
<p>When you share files through platforms like GitHub, the standard URL typically leads to a webpage that displays your file. However, DICE needs a special type of URL - a raw URL - that leads directly to the file’s content. A raw URL usually follows this pattern:</p>
<pre><code>https://raw.githubusercontent.com/username/repository/main/filename.csv</code></pre>
<p>The key difference is that a raw URL starts with <code>raw.</code> in the domain name. This tells the server to send the pure file content rather than a webpage displaying the file.</p>
</section>
<section id="getting-a-raw-url" class="level4" data-number="2.3.2.2">
<h4 data-number="2.3.2.2" class="anchored" data-anchor-id="getting-a-raw-url"><span class="header-section-number">2.3.2.2</span> Getting a Raw URL</h4>
<p>If you’re using GitHub, you can find the raw URL by navigating to your file and clicking the “Raw” button. The URL in your browser will then show the correct format that DICE needs. If you prefer using Google Drive, you can share your CSV file and get a direct link. First, share the file by setting it to “Anyone with the link can view.” Then, instead of using the standard sharing link, modify it by replacing “file/d/” with “uc?export=download&amp;id=” and removing everything after the file ID. Your Google Drive URL should look like this:</p>
<pre><code>https://drive.google.com/uc?export=download&amp;id=YOUR_FILE_ID</code></pre>
</section>
<section id="using-your-raw-url" class="level4" data-number="2.3.2.3">
<h4 data-number="2.3.2.3" class="anchored" data-anchor-id="using-your-raw-url"><span class="header-section-number">2.3.2.3</span> Using Your Raw URL</h4>
<p>Once you have the raw URL, simply paste it into DICE where requested. The app will automatically fetch your configuration file and use it to set up your study.</p>
</section>
</section>
<section id="csv-delimiter" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="csv-delimiter"><span class="header-section-number">2.3.3</span> CSV Delimiter</h3>
<p>Your CSV file uses a special character to separate different pieces of data (like columns). While commas are the most common delimiter, some files use other characters. Select the character that matches your CSV file format - for example, if your data is separated by semicolons, choose “Semicolon” from the dropdown menu.</p>
</section>
<section id="hashtag" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="hashtag"><span class="header-section-number">2.3.4</span> Hashtag</h3>
<p>Enter the term you want participants to see in the search bar of your simulated social media interface. Using a hashtag or a username creates a more authentic social media experience, as it mimics how users typically search for content on platforms like Twitter. This search term will appear pre-filled in the interface’s search bar when participants start the study.</p>
</section>
</section>
<section id="participant-briefing" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="participant-briefing"><span class="header-section-number">2.4</span> Participant Briefing</h2>
<p>This section provides two rich text editors that allow you to create formatted content for your study participants.</p>
<section id="consent-form" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="consent-form"><span class="header-section-number">2.4.1</span> Consent Form</h3>
<p>The first editor allows you to create a consent form that participants must agree to before participating in your study. This is particularly important for research conducted through institutional review boards or when ethical compliance is required. You can format your consent text using the toolbar options, including headers, bold text, and other formatting features. The consent form typically includes information about the study’s purpose, procedures, time commitment, voluntary participation, data privacy measures, and contact information for questions.</p>
</section>
<section id="study-instructions" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="study-instructions"><span class="header-section-number">2.4.2</span> Study Instructions</h3>
<p>The second editor is where you provide instructions and context for participants before they interact with the social media feed. These instructions could explain what participants will see, what they should do, and any specific guidance about how to engage with the content. Accordingly, your study instructions might include welcome text, task instructions, expectations about timing, and any special considerations for interacting with the social media posts.</p>
<p>If you leave the study instructions editor empty, participants will skip directly from the consent form to the social media feed. If both editors are empty, participants will go directly to the social media content without any preliminary pages.</p>
<p>The content you create in both editors is stored as part of your study configuration and will be displayed exactly as you format it to all participants in your study.</p>
</section>
</section>
<section id="measurement" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="measurement"><span class="header-section-number">2.5</span> Measurement</h2>
<section id="survey-integration" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="survey-integration"><span class="header-section-number">2.5.1</span> Survey Integration</h3>
<p>After participants interact with the social media feed, you can redirect them to a survey. Simply provide the base URL of your survey (for example, a Qualtrics survey URL) without any additional parameters. DICE will automatically:</p>
<ul>
<li>Add the participant’s ID to track responses</li>
<li>Include a completion code (which is useful if you’re using Prolific)</li>
<li>Handle the redirect process</li>
</ul>
<p>For example, if you’re using Qualtrics, your URL might look like this: <code>https://unisg.qualtrics.com/jfe/form/SV_0DnMoLpM0VxjhrM</code>.</p>
<p>If you leave this field empty, participants will see a closing screen with your contact information instead of being redirected to a survey.</p>
</section>
<section id="dwell-time-tracking" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="dwell-time-tracking"><span class="header-section-number">2.5.2</span> Dwell Time Tracking</h3>
<p>The dwell time tracking threshold determines when DICE considers a social media post as “viewed” by the participant. This setting is expressed as a percentage of the post’s visibility in the participant’s browser window:</p>
<ul>
<li>A threshold of 75% (default) means a post must be 75% visible to be considered “in view”</li>
<li>Lower values (closer to 1%) will count posts as viewed even when barely visible</li>
<li>Higher values (closer to 100%) only count posts that are almost fully visible</li>
</ul>
<p>Choose your threshold based on how strictly you want to measure post exposure. For most studies, the default value of 75% provides a good balance between capturing meaningful exposure while allowing for natural scrolling behavior.</p>
</section>
</section>
<section id="create-session" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="create-session"><span class="header-section-number">2.6</span> Create Session</h2>
<p>After clicking “Create Session,” you’ll see a confirmation screen that contains all essential information for running your study and collecting data.</p>
<section id="saving-your-session-information" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="saving-your-session-information"><span class="header-section-number">2.6.1</span> Saving Your Session Information</h3>
<p>The success screen displays your unique session code (such as <code>h4qfjieu</code>) and a corresponding session URL. These identifiers are crucial as they provide the only way to monitor your study’s progress and download your data later. Make sure to save both the code and URL in a secure location for future reference.</p>
</section>
<section id="prolific-integration" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="prolific-integration"><span class="header-section-number">2.6.2</span> Prolific Integration</h3>
<p><em>This section is relevant only if you’re using Prolific for participant recruitment.</em></p>
<p>The success screen provides a specially formatted URL that includes Prolific’s parameter structure. It looks similar to this:</p>
<pre><code>https://ibt-hsg.herokuapp.com/join/pifararu/?participant_label={{%PROLIFIC_PID%}}&amp;prolific_study_id={{%STUDY_ID%}}&amp;prolific_session_id={{%SESSION_ID%}}</code></pre>
<p>Copy this entire URL and paste it (as is) into your Prolific study details. The URL contains three important placeholders:</p>
<ul>
<li><code>{%PROLIFIC_PID%}</code> captures each participant’s unique identifier</li>
<li><code>{%STUDY_ID%}</code> tracks your specific study</li>
<li><code>{%SESSION_ID%}</code> records individual participant sessions</li>
</ul>
<p>You’ll also find a field to enter your Prolific completion code. This code needs to be entered and submitted to allow participants to confirm their participation after completing your study. The system automatically handles the completion code distribution to eligible participants, ensuring proper compensation through Prolific’s system.</p>
<p>This setup creates a smooth data collection process where all necessary identifiers are automatically tracked and your DICE data can be easily merged with your survey responses.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./stimuli.html" class="pagination-link" aria-label="Generate Stimuli">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Generate Stimuli</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data.html" class="pagination-link" aria-label="Data">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>